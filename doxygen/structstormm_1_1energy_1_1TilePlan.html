<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STORMM Source Documentation: stormm::energy::TilePlan Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">STORMM Source Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>stormm</b></li><li class="navelem"><b>energy</b></li><li class="navelem"><a class="el" href="structstormm_1_1energy_1_1TilePlan.html">TilePlan</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structstormm_1_1energy_1_1TilePlan-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">stormm::energy::TilePlan Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The abstract of the <a class="el" href="classstormm_1_1energy_1_1TileManager.html" title="When tiles are loaded for what could be partial batches of atoms, it is critical for threads of the w...">TileManager</a> contains pointers to direct the relative indexing of atom reads and the rearrangements that follow the tile evaluation needed to bring the the atoms back into an arrangement suitable for reducing the forces. The abstract is writeable.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="tile__manager_8h_source.html">tile_manager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2516321f4af0658b629a9a0dd2358ea6" id="r_a2516321f4af0658b629a9a0dd2358ea6"><td class="memItemLeft" align="right" valign="top"><a id="a2516321f4af0658b629a9a0dd2358ea6" name="a2516321f4af0658b629a9a0dd2358ea6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>TilePlan</b> (int nchoice_in, const int *read_assign_in, const int *self_assign_in, const int *reduce_prep_in, const int *self_prep_in, const float *scalings_in, const int *nt_stencil_in, int *xfrc_ovrf_in, int *yfrc_ovrf_in, int *zfrc_ovrf_in)</td></tr>
<tr class="memdesc:a2516321f4af0658b629a9a0dd2358ea6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The constructor follows from other abstracts and takes a list of all pointers and critical constants. <br /></td></tr>
<tr class="separator:a2516321f4af0658b629a9a0dd2358ea6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a633df776fc2e54589279059279f37abc" id="r_a633df776fc2e54589279059279f37abc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a633df776fc2e54589279059279f37abc">TilePlan</a> (const <a class="el" href="structstormm_1_1energy_1_1TilePlan.html">TilePlan</a> &amp;original)=default</td></tr>
<tr class="memdesc:a633df776fc2e54589279059279f37abc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The presence of const member variables negates copy and move assignment operations, but the default copy and move constructors are valid.  <br /></td></tr>
<tr class="separator:a633df776fc2e54589279059279f37abc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa860fa3fee40ae728d98370cc6c657cc" id="r_aa860fa3fee40ae728d98370cc6c657cc"><td class="memItemLeft" align="right" valign="top"><a id="aa860fa3fee40ae728d98370cc6c657cc" name="aa860fa3fee40ae728d98370cc6c657cc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>TilePlan</b> (<a class="el" href="structstormm_1_1energy_1_1TilePlan.html">TilePlan</a> &amp;&amp;original)=default</td></tr>
<tr class="separator:aa860fa3fee40ae728d98370cc6c657cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a080a9eaecf4b764a50bf8b5144188877" id="r_a080a9eaecf4b764a50bf8b5144188877"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a080a9eaecf4b764a50bf8b5144188877">nchoice</a></td></tr>
<tr class="separator:a080a9eaecf4b764a50bf8b5144188877"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50ce752e637bdb3c6f43fe7c2a5a4f18" id="r_a50ce752e637bdb3c6f43fe7c2a5a4f18"><td class="memItemLeft" align="right" valign="top">const int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a50ce752e637bdb3c6f43fe7c2a5a4f18">read_assign</a></td></tr>
<tr class="separator:a50ce752e637bdb3c6f43fe7c2a5a4f18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebc3a4fd0b9bfc55e93c3b2815312967" id="r_aebc3a4fd0b9bfc55e93c3b2815312967"><td class="memItemLeft" align="right" valign="top">const int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aebc3a4fd0b9bfc55e93c3b2815312967">self_assign</a></td></tr>
<tr class="separator:aebc3a4fd0b9bfc55e93c3b2815312967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab015d53eaa69741b8b4b639da251ecf" id="r_aab015d53eaa69741b8b4b639da251ecf"><td class="memItemLeft" align="right" valign="top">const int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab015d53eaa69741b8b4b639da251ecf">reduce_prep</a></td></tr>
<tr class="separator:aab015d53eaa69741b8b4b639da251ecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26a38da5fa9bffd4e4279614a4e54026" id="r_a26a38da5fa9bffd4e4279614a4e54026"><td class="memItemLeft" align="right" valign="top">const int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a26a38da5fa9bffd4e4279614a4e54026">self_prep</a></td></tr>
<tr class="separator:a26a38da5fa9bffd4e4279614a4e54026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab77e4550331701c6d399fedaf3736fd2" id="r_ab77e4550331701c6d399fedaf3736fd2"><td class="memItemLeft" align="right" valign="top">const float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab77e4550331701c6d399fedaf3736fd2">scalings</a></td></tr>
<tr class="separator:ab77e4550331701c6d399fedaf3736fd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac145a37d59f09328ef5c7d893a2bbb64" id="r_ac145a37d59f09328ef5c7d893a2bbb64"><td class="memItemLeft" align="right" valign="top">const int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac145a37d59f09328ef5c7d893a2bbb64">nt_stencil</a></td></tr>
<tr class="separator:ac145a37d59f09328ef5c7d893a2bbb64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91100efacfa09a7409105fb654801cde" id="r_a91100efacfa09a7409105fb654801cde"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a91100efacfa09a7409105fb654801cde">xfrc_ovrf</a></td></tr>
<tr class="separator:a91100efacfa09a7409105fb654801cde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf2c9e697de1e2bd16a03fb2bbedff4d" id="r_acf2c9e697de1e2bd16a03fb2bbedff4d"><td class="memItemLeft" align="right" valign="top"><a id="acf2c9e697de1e2bd16a03fb2bbedff4d" name="acf2c9e697de1e2bd16a03fb2bbedff4d"></a>
int *&#160;</td><td class="memItemRight" valign="bottom"><b>yfrc_ovrf</b></td></tr>
<tr class="memdesc:acf2c9e697de1e2bd16a03fb2bbedff4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overflow accumulators for receiving atom forces in the Y direction. <br /></td></tr>
<tr class="separator:acf2c9e697de1e2bd16a03fb2bbedff4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57af4eb91ce82f84cbb0ca27a90f80a0" id="r_a57af4eb91ce82f84cbb0ca27a90f80a0"><td class="memItemLeft" align="right" valign="top"><a id="a57af4eb91ce82f84cbb0ca27a90f80a0" name="a57af4eb91ce82f84cbb0ca27a90f80a0"></a>
int *&#160;</td><td class="memItemRight" valign="bottom"><b>zfrc_ovrf</b></td></tr>
<tr class="memdesc:a57af4eb91ce82f84cbb0ca27a90f80a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overflow accumulators for receiving atom forces in the Z direction. <br /></td></tr>
<tr class="separator:a57af4eb91ce82f84cbb0ca27a90f80a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The abstract of the <a class="el" href="classstormm_1_1energy_1_1TileManager.html" title="When tiles are loaded for what could be partial batches of atoms, it is critical for threads of the w...">TileManager</a> contains pointers to direct the relative indexing of atom reads and the rearrangements that follow the tile evaluation needed to bring the the atoms back into an arrangement suitable for reducing the forces. The abstract is writeable. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a633df776fc2e54589279059279f37abc" name="a633df776fc2e54589279059279f37abc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a633df776fc2e54589279059279f37abc">&#9670;&#160;</a></span>TilePlan()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">stormm::energy::TilePlan::TilePlan </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structstormm_1_1energy_1_1TilePlan.html">TilePlan</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>original</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel default">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The presence of const member variables negates copy and move assignment operations, but the default copy and move constructors are valid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">original</td><td>The original <a class="el" href="structstormm_1_1energy_1_1TilePlan.html" title="The abstract of the TileManager contains pointers to direct the relative indexing of atom reads and t...">TilePlan</a> to copy or move </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a080a9eaecf4b764a50bf8b5144188877" name="a080a9eaecf4b764a50bf8b5144188877"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a080a9eaecf4b764a50bf8b5144188877">&#9670;&#160;</a></span>nchoice</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int stormm::energy::TilePlan::nchoice</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The number of choices for batch degeneracy in either sending or receiving atoms. The read_assign and reduce_prep arrays are arranged such that the relative indices for receiving atoms in a { 1, 1 } degeneracy (each batch is completely full, no atoms are replicated) are followed by indices for a { 1, 2 } degeneracy (the batch of receiving atoms is half full, each atom appears twice) and then a { 1, 4 } degeneracy (each of the receiving atoms appears four times in the overall batch). If there are higher levels of degeneracy, they would appear next, but the degeneracy of the sending atoms then ticks forward and reading / rearrangement instructions for { 2, 1 } degeneracy then appear, followed by { 2, 2 } and { 2, 4 }. Eventually, { 4, 1 } to { 4, 4 } and perhaps higher degeneracies are covered. Both arrays are thus sized according to the warp size and the square of nchoice. </p>

</div>
</div>
<a id="ac145a37d59f09328ef5c7d893a2bbb64" name="ac145a37d59f09328ef5c7d893a2bbb64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac145a37d59f09328ef5c7d893a2bbb64">&#9670;&#160;</a></span>nt_stencil</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int* stormm::energy::TilePlan::nt_stencil</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Coded bitmasks instructing each thread which cell, relative to the center, to access in order to complete the neutral territory tower-plate arrangement. These instructions will be combined with knowledge of the system itself in order to arrive at the exact cell index from which to draw atoms. </p>

</div>
</div>
<a id="a50ce752e637bdb3c6f43fe7c2a5a4f18" name="a50ce752e637bdb3c6f43fe7c2a5a4f18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50ce752e637bdb3c6f43fe7c2a5a4f18">&#9670;&#160;</a></span>read_assign</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int* stormm::energy::TilePlan::read_assign</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reading assignments for threads, following the layout described above. </p>

</div>
</div>
<a id="aab015d53eaa69741b8b4b639da251ecf" name="aab015d53eaa69741b8b4b639da251ecf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab015d53eaa69741b8b4b639da251ecf">&#9670;&#160;</a></span>reduce_prep</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int* stormm::energy::TilePlan::reduce_prep</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reduction preparation shuffle lane assignments for threads. There are nchoice sets of assignments, each the width of a warp. </p>

</div>
</div>
<a id="ab77e4550331701c6d399fedaf3736fd2" name="ab77e4550331701c6d399fedaf3736fd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab77e4550331701c6d399fedaf3736fd2">&#9670;&#160;</a></span>scalings</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const float* stormm::energy::TilePlan::scalings</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Scaling factors to be applied to each interaction computed by the threads of a warp in the first iteration of evaluating the tile </p>

</div>
</div>
<a id="aebc3a4fd0b9bfc55e93c3b2815312967" name="aebc3a4fd0b9bfc55e93c3b2815312967"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebc3a4fd0b9bfc55e93c3b2815312967">&#9670;&#160;</a></span>self_assign</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int* stormm::energy::TilePlan::self_assign</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reading assignments for threads in self-interaction tiles, arranged in a manner similar to read_assign but with only M x M tiles (squares, not rectangles). </p>

</div>
</div>
<a id="a26a38da5fa9bffd4e4279614a4e54026" name="a26a38da5fa9bffd4e4279614a4e54026"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26a38da5fa9bffd4e4279614a4e54026">&#9670;&#160;</a></span>self_prep</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int* stormm::energy::TilePlan::self_prep</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reduction preparation shuffle lane assignments for threads handling self interaction tiles. There are two time nchoice sets of data, each the width of a warp. The first nchoice sets handle tiles where the sending and receiving atoms are truly one and the same and the number of iterations in the inner loop is thereby reduced by half. The second nchoice sets handle tiles where the sending and receiving atoms are not the same but nonetheless come from the same central neighbor list decomposition cell. </p>

</div>
</div>
<a id="a91100efacfa09a7409105fb654801cde" name="a91100efacfa09a7409105fb654801cde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91100efacfa09a7409105fb654801cde">&#9670;&#160;</a></span>xfrc_ovrf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int* stormm::energy::TilePlan::xfrc_ovrf</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Overflow accumulators for forces on receiving atoms in the Cartesian X direction </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>src/Potential/<a class="el" href="tile__manager_8h_source.html">tile_manager.h</a></li>
<li>src/Potential/<b>tile_manager.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
